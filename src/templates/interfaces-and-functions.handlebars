{{#*inline "tablePartial"}}
export interface {{interfaceName}} {
  {{#each additionalProperties as |prop|}}
  {{prop}}
  {{/each}}
  {{#each columns}}
  "{{propertyName}}"{{#if optional}}?{{/if}}: {{propertyType}} {{#if nullable}}| null {{/if}}
  {{/each}}
}
{{/inline}}
{{#*inline "funcGetAllFieldsPartial"}}
export async function get{{interfaceName}}AllFields(client:Knex){
  return client<{{interfaceName}}>("{{interfaceName}}")
}
{{/inline}}
{{#*inline "funcGetBasicFieldsPartial"}}
export async function get{{interfaceName}}BasicFields(client:Knex){
  type Get{{interfaceName}}BasicFieldsOutput = {
    {{#each columns}}
    {{#unless nullable}} 
    "{{propertyName}}"{{#if optional}}?{{/if}}: {{propertyType}} {{#if nullable}}| null {{/if}}
    {{/unless}}
    {{/each}}
  }

  return client
  .from<{{interfaceName}}>("{{interfaceName}}")
  .select<Get{{interfaceName}}BasicFieldsOutput[]>(
    {{#each columns}}
    {{#unless nullable}} 
    "{{propertyName}}",
    {{/unless}}
    {{/each}}
  )
}
{{/inline}}
{{#*inline "funcGetBasicFieldsPartial"}}
export async function get{{interfaceName}}BasicFields(client:Knex){
  type Get{{interfaceName}}BasicFieldsOutput = {
    {{#each columns}}
    {{#unless nullable}} 
    "{{propertyName}}"{{#if optional}}?{{/if}}: {{propertyType}} {{#if nullable}}| null {{/if}}
    {{/unless}}
    {{/each}}
  }

  return client
  .from<{{interfaceName}}>("{{interfaceName}}")
  .select<Get{{interfaceName}}BasicFieldsOutput[]>(
    {{#each columns}}
    {{#unless nullable}} 
    "{{propertyName}}",
    {{/unless}}
    {{/each}}
  )
}
{{/inline}}
/* eslint-disable @typescript-eslint/camelcase */
/* eslint-disable @typescript-eslint/class-name-casing */
/*
* This file was generated by a tool.
* Rerun sql-ts to regenerate this file.
*/

import Knex from 'knex';

{{#if config.tableAsNamespace}}
{{#each tables as |table|}}
export namespace {{table.name}} {
  {{> tablePartial table}}  
  {{> funcGetAllFieldsPartial table}}
  {{> funcGetBasicFieldsPartial table}}
{{/each}}
}
{{else}}
{{#each tables as |table|}}
{{> tablePartial table}}
{{> funcGetAllFieldsPartial table}}
{{> funcGetBasicFieldsPartial table}}
{{/each}}
{{/if}}